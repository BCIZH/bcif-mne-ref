# MNE-Python vs Brainstorm3 å¯¹æ¯”æ€»è§ˆ

> **æ–‡æ¡£åˆ›å»º**: 2026å¹´1æœˆ31æ—¥  
> **å¯¹æ¯”ç‰ˆæœ¬**: MNE-Python (æœ€æ–°) vs Brainstorm3  
> **ç›®æ ‡**: å…¨é¢å¯¹æ¯”ä¸¤ä¸ªä¸»æµ MEG/EEG åˆ†æå·¥å…·çš„å¼‚åŒ

---

## å¿«é€Ÿå¯¹æ¯”è¡¨

| ç»´åº¦ | **MNE-Python** | **Brainstorm3** |
|------|----------------|-----------------|
| **ç¼–ç¨‹è¯­è¨€** | Python (BSD-3) | MATLAB (GPL-2) |
| **å‘å¸ƒå¹´ä»½** | 2011 | 2000 |
| **ç”¨æˆ·ç•Œé¢** | å‘½ä»¤è¡Œä¸ºä¸» + éƒ¨åˆ†GUI | å®Œæ•´GUI + è„šæœ¬æ”¯æŒ |
| **å­¦ä¹ æ›²çº¿** | é™¡å³­ (éœ€Pythonç¼–ç¨‹) | å¹³ç¼“ (å›¾å½¢ç•Œé¢å‹å¥½) |
| **é€‚ç”¨äººç¾¤** | ç¨‹åºå‘˜ã€ç®—æ³•å¼€å‘è€… | ä¸´åºŠç ”ç©¶è€…ã€åˆå­¦è€… |
| **æ•°æ®æ ¼å¼** | 30+ ç§ (å¼€æ”¾æ ¼å¼ä¼˜å…ˆ) | 35+ ç§ (MATLAB .mat) |
| **ä¾èµ–** | NumPy/SciPy/Scikit-learn | MATLAB Runtime (å¯å…è´¹) |
| **æ‰©å±•æ€§** | â­â­â­â­â­ æå¼º (Pythonç”Ÿæ€) | â­â­â­ ä¸­ç­‰ (MATLABæ’ä»¶) |
| **æ€§èƒ½** | â­â­â­â­ ä¼˜ç§€ (NumPyä¼˜åŒ–) | â­â­â­ è‰¯å¥½ (MATLAB JIT) |
| **æ–‡æ¡£** | è¯¦å°½ (Sphinx + æ•™ç¨‹) | ä¸°å¯Œ (Wiki + è§†é¢‘) |
| **ç¤¾åŒº** | GitHub Issues + è®ºå› | è®ºå› + 35,000+ ç”¨æˆ· |
| **è®¸å¯è´¹ç”¨** | å®Œå…¨å…è´¹ | å…è´¹ (å¯ä¸ä¾èµ–MATLAB) |

---

## æ ¸å¿ƒå®šä½å·®å¼‚

### MNE-Python: ç¼–ç¨‹ä¼˜å…ˆçš„ç§‘å­¦å·¥å…·

**è®¾è®¡å“²å­¦**:
```python
# ä¸€åˆ‡çš†å¯¹è±¡ï¼Œé“¾å¼æ“ä½œ
raw = mne.io.read_raw_fif('data.fif', preload=True)
raw.filter(1, 40).set_eeg_reference('average').resample(250)

epochs = mne.Epochs(raw, events, event_id, tmin=-0.2, tmax=0.5)
evoked = epochs['stim'].average()

inv = mne.minimum_norm.make_inverse_operator(evoked.info, fwd, cov)
stc = mne.minimum_norm.apply_inverse(evoked, inv, lambda2=1/9, method='dSPM')
```

**ç›®æ ‡ç”¨æˆ·**:
- âœ… ç†Ÿæ‚‰Pythonçš„ç ”ç©¶è€…
- âœ… éœ€è¦è‡ªå®šä¹‰ç®—æ³•çš„å¼€å‘è€…
- âœ… éœ€è¦æ‰¹é‡å¤„ç†çš„æ•°æ®ç§‘å­¦å®¶
- âœ… å¼€æºé¡¹ç›®è´¡çŒ®è€…

**å…¸å‹åœºæ™¯**:
- å¤§è§„æ¨¡æ•°æ®åˆ†æ (è‡ªåŠ¨åŒ–è„šæœ¬)
- ç®—æ³•ç ”ç©¶ä¸å¼€å‘
- æœºå™¨å­¦ä¹ é›†æˆ (Scikit-learn, PyTorch)
- ä¸Pythonç§‘å­¦æ ˆæ— ç¼é›†æˆ (Pandas, Matplotlib)

---

### Brainstorm3: GUIä¼˜å…ˆçš„ä¸´åºŠå·¥å…·

**è®¾è®¡å“²å­¦**:
```
å›¾å½¢ç•Œé¢æ“ä½œæµç¨‹:
1. å¯¼å…¥æ•°æ® â†’ GUI: File > Import data
2. æ»¤æ³¢ â†’ GUI: Process > Pre-process > Band-pass filter
3. äº‹ä»¶æ ‡è®° â†’ GUI: æ—¶é—´åºåˆ—å›¾ä¸Šç‚¹å‡»
4. Epochså¹³å‡ â†’ GUI: Process > Average > By trial group
5. æºä¼°è®¡ â†’ GUI: Process > Sources > Compute sources [MNE]
```

**ç›®æ ‡ç”¨æˆ·**:
- âœ… ä¸ç†Ÿæ‚‰ç¼–ç¨‹çš„ä¸´åºŠç ”ç©¶è€…
- âœ… éœ€è¦å¿«é€ŸåŸå‹éªŒè¯çš„ç ”ç©¶è€…
- âœ… æ•™å­¦æ¼”ç¤ºåœºæ™¯
- âœ… MATLABç”¨æˆ·

**å…¸å‹åœºæ™¯**:
- å•ä¸ªå—è¯•è€…äº¤äº’å¼åˆ†æ
- æ•™å­¦ä¸æ¼”ç¤º
- å¿«é€Ÿæ–¹æ³•éªŒè¯
- ä¸´åºŠåº”ç”¨ (ä¸éœ€ç¼–ç¨‹)

---

## å…±åŒç‚¹ (æ ¸å¿ƒåŠŸèƒ½ä¸€è‡´æ€§)

### âœ… å®Œå…¨ç›¸åŒçš„æ ¸å¿ƒç®—æ³•

| ç®—æ³•ç±»åˆ« | å…±äº«ç®—æ³• |
|---------|---------|
| **æ»¤æ³¢** | FIR/IIRæ»¤æ³¢å™¨, Parks-McClellanè®¾è®¡ |
| **ä¼ªè¿¹å»é™¤** | ICA (Infomax/FastICA), SSPæŠ•å½± |
| **æºä¼°è®¡** | MNE, dSPM, sLORETA, LCMV Beamformer |
| **æ­£å‘å»ºæ¨¡** | BEM (è¾¹ç•Œå…ƒæ³•), çƒå¤´æ¨¡å‹ |
| **æ—¶é¢‘åˆ†æ** | Morletå°æ³¢, å¤šé”¥åº¦æ–¹æ³• |
| **ç»Ÿè®¡** | éå‚æ•°æ’åˆ—æ£€éªŒ, èšç±»åˆ†æ |

**åŸå› **: ä¸¤è€…éƒ½åŸºäºç›¸åŒçš„ç”µç£å­¦ç†è®ºå’Œä¿¡å·å¤„ç†åŸºç¡€

---

### âœ… æ•°æ®å…¼å®¹æ€§

```python
# MNEå¯ä»¥å¯¼å‡ºBrainstormæ ¼å¼
import mne
raw = mne.io.read_raw_fif('data.fif')
raw.save('data_for_brainstorm.mat', fmt='mat')

# Brainstormå¯ä»¥å¯¼å…¥MNE-Pythonçš„FIFæ ¼å¼
# GUI: File > Import data > MNE-Python FIF files
```

**æ”¯æŒçš„äº’æ“ä½œæ ¼å¼**:
- FIF (MNEåŸç”Ÿ)
- EEGLAB (.set)
- FieldTrip (.mat)
- æ ‡å‡†æ ¼å¼ (EDF, BDF, BrainVision, CTF, 4D-BTi)

---

## å…³é”®å·®å¼‚

### 1. æ•°æ®æ¨¡å‹è®¾è®¡

#### MNE-Python: å¯¹è±¡å¯¼å‘

```python
# æ•°æ®å®¹å™¨å±‚æ¬¡
BaseRaw               # è¿ç»­æ•°æ®åŸºç±»
  â”œâ”€â”€ Raw            # FIFæ ¼å¼
  â”œâ”€â”€ RawEDF         # EDFæ ¼å¼
  â””â”€â”€ RawArray       # ä»æ•°ç»„åˆ›å»º

BaseEpochs            # äº‹ä»¶ç›¸å…³æ•°æ®
  â”œâ”€â”€ Epochs
  â””â”€â”€ EpochsArray

Evoked                # å¹³å‡æ•°æ®
SourceEstimate        # æºç©ºé—´æ•°æ®
```

**ç‰¹ç‚¹**:
- å¼ºç±»å‹ç³»ç»Ÿ
- æ–¹æ³•é“¾å¼è°ƒç”¨
- å†…å­˜é«˜æ•ˆ (å»¶è¿ŸåŠ è½½)

---

#### Brainstorm3: ç»“æ„ä½“å±‚æ¬¡

```matlab
% MATLABç»“æ„ä½“
Protocol
  â”œâ”€â”€ SUBJECTS/      % å—è¯•è€…ç›®å½•
  â”‚     â””â”€â”€ Subject
  â”‚           â”œâ”€â”€ Anatomy[]  % MRIæ•°ç»„
  â”‚           â””â”€â”€ Surface[]  % è¡¨é¢ç½‘æ ¼
  â””â”€â”€ STUDIES/       % ç ”ç©¶ç›®å½•
        â””â”€â”€ Study
              â”œâ”€â”€ Data[]      % è®°å½•æ•°æ®
              â”œâ”€â”€ HeadModel[] % å¤´æ¨¡å‹
              â””â”€â”€ Result[]    % æºä¼°è®¡ç»“æœ
```

**ç‰¹ç‚¹**:
- åŸºäºæ–‡ä»¶çš„æ•°æ®åº“
- .matæ–‡ä»¶å­˜å‚¨
- GUIå®æ—¶åŒæ­¥

---

### 2. å·¥ä½œæµå·®å¼‚

#### MNE-Python: è„šæœ¬é©±åŠ¨

```python
# å…¸å‹åˆ†æè„šæœ¬ (50è¡Œä»£ç )
import mne
from mne.minimum_norm import make_inverse_operator, apply_inverse

# 1. æ•°æ®åŠ è½½
raw = mne.io.read_raw_fif('data.fif', preload=True)

# 2. é¢„å¤„ç†
raw.filter(1, 40)
raw.set_eeg_reference('average')

# 3. äº‹ä»¶æå–
events = mne.find_events(raw, stim_channel='STI101')

# 4. åˆ†æ®µ
epochs = mne.Epochs(raw, events, event_id={'stim': 1}, 
                    tmin=-0.2, tmax=0.5, baseline=(None, 0))

# 5. å¹³å‡
evoked = epochs.average()

# 6. æºä¼°è®¡
fwd = mne.read_forward_solution('fwd-sol.fif')
cov = mne.compute_covariance(epochs, tmax=0)
inv = make_inverse_operator(evoked.info, fwd, cov, loose=0.2, depth=0.8)
stc = apply_inverse(evoked, inv, lambda2=1/9, method='dSPM')

# 7. å¯è§†åŒ–
stc.plot(subjects_dir='/path/to/subjects')
```

**ä¼˜åŠ¿**:
- âœ… å¯é‡å¤ (è„šæœ¬å³è®°å½•)
- âœ… æ‰¹é‡å¤„ç† (å¾ªç¯ã€å¹¶è¡Œ)
- âœ… ç‰ˆæœ¬æ§åˆ¶ (Git)
- âœ… è‡ªåŠ¨åŒ– (Cron, Jenkins)

---

#### Brainstorm3: GUIé©±åŠ¨

```
æ“ä½œæµç¨‹ (çº¦15-20æ¬¡ç‚¹å‡»):

1. [File > Import data > MEG/EEG]
   - é€‰æ‹©æ–‡ä»¶
   - é…ç½®é€šé“ç±»å‹

2. [Process > Pre-process > Band-pass filter]
   - è¾“å…¥: 1-40 Hz
   - ç‚¹å‡» Run

3. [å³é”®æ—¶é—´åºåˆ— > Events > Detect events]
   - é…ç½®æ£€æµ‹å‚æ•°

4. [Process > Average > By trial group]
   - é€‰æ‹©äº‹ä»¶ç±»å‹
   - ç‚¹å‡» Run

5. [Process > Sources > Compute sources]
   - é€‰æ‹©æ–¹æ³•: MNE, dSPM
   - é…ç½®SNR
   - ç‚¹å‡» Run

6. [å³é”®ç»“æœ > Display on cortex]
```

**ä¼˜åŠ¿**:
- âœ… æ— éœ€ç¼–ç¨‹
- âœ… å®æ—¶å¯è§†åŒ–
- âœ… æ¢ç´¢æ€§åˆ†æå‹å¥½
- âœ… å¿«é€ŸåŸå‹

---

### 3. æ‰©å±•èƒ½åŠ›

#### MNE-Python: Pythonç”Ÿæ€ç³»ç»Ÿ

```python
# ä¸æœºå™¨å­¦ä¹ é›†æˆ
from sklearn.model_selection import cross_val_score
from sklearn.svm import SVC
from mne.decoding import Vectorizer, CSP

# ç‰¹å¾æå–
csp = CSP(n_components=4, reg=None, log=True)
X_csp = csp.fit_transform(epochs.get_data(), labels)

# åˆ†ç±»
clf = SVC(kernel='rbf', gamma='scale')
scores = cross_val_score(clf, X_csp, labels, cv=5)

# æ·±åº¦å­¦ä¹  (PyTorch)
import torch
import torch.nn as nn

class EEGNet(nn.Module):
    def forward(self, x):
        # è‡ªå®šä¹‰ç¥ç»ç½‘ç»œ
        pass
```

**å¯æ‰©å±•æ–¹å‘**:
- Scikit-learn: æœºå™¨å­¦ä¹ 
- PyTorch/TensorFlow: æ·±åº¦å­¦ä¹ 
- Pandas: æ•°æ®åˆ†æ
- Seaborn: ç»Ÿè®¡å¯è§†åŒ–
- Nilearn: fMRIé›†æˆ
- MNE-BIDS: æ•°æ®æ ‡å‡†åŒ–

---

#### Brainstorm3: MATLABæ’ä»¶

```matlab
% è‡ªå®šä¹‰å¤„ç†å‡½æ•°
function sFiles = process_custom(sFiles, sInputs, varargin)
    % æ’ä»¶æ¥å£
    % å¿…é¡»éµå¾ªBrainstormçº¦å®š
    
    % è·å–æ•°æ®
    DataMat = in_bst_data(sFiles(1).FileName);
    
    % è‡ªå®šä¹‰å¤„ç†
    DataMat.F = my_algorithm(DataMat.F);
    
    % ä¿å­˜ç»“æœ
    sFiles = bst_process('CallProcess', 'process_save', sFiles);
end
```

**å¯æ‰©å±•æ–¹å‘**:
- MATLAB Toolboxes (éœ€è®¸å¯)
- SPM12: fMRIåˆ†æ
- FieldTrip: äº’æ“ä½œ
- è‡ªå®šä¹‰æ’ä»¶ (éœ€éµå¾ªæ¥å£)

---

### 4. æ€§èƒ½ä¸å¯æ‰©å±•æ€§

#### å¹¶è¡Œå¤„ç†

**MNE-Python**:
```python
# å¤šæ ¸å¹¶è¡Œ (joblib)
from mne.parallel import parallel_func

parallel, my_func, n_jobs = parallel_func(process_subject, n_jobs=8)
results = parallel(my_func(subject) for subject in subjects)

# åˆ†å¸ƒå¼è®¡ç®— (Dask)
import dask
from dask.distributed import Client

client = Client(n_workers=16)
futures = client.map(process_subject, subjects)
results = client.gather(futures)
```

**Brainstorm3**:
```matlab
% MATLABå¹¶è¡Œå·¥å…·ç®± (éœ€è®¸å¯)
parpool(8);
parfor i = 1:length(sFiles)
    sFiles(i) = process_subject(sFiles(i));
end
```

---

#### å¤§æ•°æ®å¤„ç†

**MNE-Python**:
```python
# å»¶è¿ŸåŠ è½½ + åˆ†å—å¤„ç†
raw = mne.io.read_raw_fif('huge_file.fif', preload=False)  # ä¸åŠ è½½åˆ°å†…å­˜

# åˆ†å—å¤„ç† (ç”Ÿæˆå™¨)
for chunk in raw.iter_evoked(events, event_id, tmin, tmax):
    # å¤„ç†æ¯ä¸ªå—
    process(chunk)
```

**Brainstorm3**:
- ä¾èµ–MATLABå†…å­˜ç®¡ç†
- å¤§æ–‡ä»¶éœ€æ‰‹åŠ¨åˆ†å‰²

---

## é€‰æ‹©æŒ‡å—

### é€‰æ‹© MNE-Python çš„ç†ç”±

1. âœ… **å·²ç†Ÿæ‚‰Python** æˆ–æ„¿æ„å­¦ä¹ ç¼–ç¨‹
2. âœ… **å¤§è§„æ¨¡æ•°æ®åˆ†æ** (100+ å—è¯•è€…)
3. âœ… **ç®—æ³•å¼€å‘** æˆ–éœ€è¦è‡ªå®šä¹‰æ–¹æ³•
4. âœ… **æœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ ** é›†æˆ
5. âœ… **è‡ªåŠ¨åŒ–æµç¨‹** (æ‰¹å¤„ç†ã€CI/CD)
6. âœ… **å¼€æºè´¡çŒ®** æˆ–ç¤¾åŒºå‚ä¸
7. âœ… **è·¨å¹³å°** (LinuxæœåŠ¡å™¨ã€HPCé›†ç¾¤)

**å…¸å‹ç”¨æˆ·ç”»åƒ**:
- è®¡ç®—ç¥ç»ç§‘å­¦å®¶
- æ•°æ®ç§‘å­¦å®¶
- ç®—æ³•ç ”ç©¶è€…
- å·¥ç¨‹å¸ˆ

---

### é€‰æ‹© Brainstorm3 çš„ç†ç”±

1. âœ… **ä¸ç†Ÿæ‚‰ç¼–ç¨‹** æˆ–åå¥½GUI
2. âœ… **æ¢ç´¢æ€§åˆ†æ** (å•ä¸ª/å°‘é‡å—è¯•è€…)
3. âœ… **å¿«é€ŸåŸå‹éªŒè¯**
4. âœ… **æ•™å­¦æ¼”ç¤º**
5. âœ… **ä¸´åºŠåº”ç”¨** (ä¸éœ€ç¼–ç¨‹å®šåˆ¶)
6. âœ… **MATLABç”¨æˆ·** (å·²æœ‰ç”Ÿæ€)
7. âœ… **å®æ—¶äº¤äº’å¯è§†åŒ–**

**å…¸å‹ç”¨æˆ·ç”»åƒ**:
- ä¸´åºŠç ”ç©¶è€…
- è®¤çŸ¥ç¥ç»ç§‘å­¦å®¶
- å­¦ç”Ÿ (åˆå­¦è€…)
- æ•™å¸ˆ

---

## æ··åˆä½¿ç”¨ç­–ç•¥

### æœ€ä½³å®è·µ: ä¸¤è€…ç»“åˆ

```
å·¥ä½œæµç¤ºä¾‹:
1. Brainstorm3: æ¢ç´¢æ€§åˆ†æï¼Œç¡®å®šæ–¹æ³•
   â†“
2. ä½¿ç”¨ Brainstorm GUI å¿«é€Ÿæµ‹è¯•å‚æ•°
   â†“
3. MNE-Python: æ‰¹é‡å¤„ç†ï¼Œè‡ªåŠ¨åŒ–
   â†“
4. ä½¿ç”¨è„šæœ¬å¤„ç†æ‰€æœ‰å—è¯•è€…
   â†“
5. MNE-Python: ç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–
```

**æ•°æ®è½¬æ¢**:
```python
# Brainstorm â†’ MNE
import scipy.io
import mne

# è¯»å–Brainstorm .matæ–‡ä»¶
mat = scipy.io.loadmat('brainstorm_data.mat')
data = mat['F']  # [n_channels Ã— n_times]
info = mne.create_info(ch_names, sfreq, ch_types='eeg')
raw = mne.io.RawArray(data, info)

# MNE â†’ Brainstorm
raw.save('data_for_brainstorm.mat', fmt='mat')
```

---

## æ€»ç»“

### åŠŸèƒ½å®Œæ•´æ€§: **å¹³æ‰‹** âš–ï¸

- ä¸¤è€…éƒ½æä¾›å®Œæ•´çš„ MEG/EEG åˆ†ææµç¨‹
- æ ¸å¿ƒç®—æ³•åŸºæœ¬ä¸€è‡´ (åŸºäºç›¸åŒç†è®º)
- éƒ½èƒ½å®Œæˆä»åŸå§‹æ•°æ®åˆ°å‘è¡¨çº§ç»“æœçš„æ‰€æœ‰æ­¥éª¤

---

### å„è‡ªä¼˜åŠ¿

| ç»´åº¦ | MNE-Python ğŸ | Brainstorm3 ğŸ§  |
|------|---------------|----------------|
| **ç¼–ç¨‹çµæ´»æ€§** | â­â­â­â­â­ | â­â­ |
| **GUIå‹å¥½æ€§** | â­â­ | â­â­â­â­â­ |
| **æ‰¹é‡å¤„ç†** | â­â­â­â­â­ | â­â­â­ |
| **æœºå™¨å­¦ä¹ é›†æˆ** | â­â­â­â­â­ | â­â­ |
| **å­¦ä¹ æ›²çº¿** | â­â­ (é™¡å³­) | â­â­â­â­â­ (å¹³ç¼“) |
| **å¯é‡å¤æ€§** | â­â­â­â­â­ | â­â­â­ |
| **å®æ—¶äº¤äº’** | â­â­â­ | â­â­â­â­â­ |
| **å¼€æºç”Ÿæ€** | â­â­â­â­â­ | â­â­â­ |
| **æ–‡æ¡£æ•™ç¨‹** | â­â­â­â­â­ | â­â­â­â­ |
| **æ€§èƒ½ä¼˜åŒ–** | â­â­â­â­ | â­â­â­ |

---

### æœ€ç»ˆå»ºè®®

**å¦‚æœä½ æ˜¯**:
- ğŸ‘¨â€ğŸ’» **ç¨‹åºå‘˜** â†’ MNE-Python
- ğŸ‘¨â€âš•ï¸ **ä¸´åºŠåŒ»ç”Ÿ** â†’ Brainstorm3
- ğŸ‘¨â€ğŸ“ **ç ”ç©¶ç”Ÿ** â†’ å…ˆå­¦Brainstormï¼Œå†è½¬MNE (æŒæ¡æ¦‚å¿µåå­¦ç¼–ç¨‹)
- ğŸ‘¨â€ğŸ”¬ **æ•°æ®ç§‘å­¦å®¶** â†’ MNE-Python
- ğŸ‘¨â€ğŸ« **æ•™å¸ˆ** â†’ Brainstorm3 (æ¼”ç¤ºç”¨)

**æ²¡æœ‰ç»å¯¹çš„"æ›´å¥½"ï¼Œåªæœ‰æ›´é€‚åˆçš„å·¥å…·** ğŸ¯

---

## å‚è€ƒèµ„æ–™

### MNE-Python
- å®˜ç½‘: https://mne.tools
- GitHub: https://github.com/mne-tools/mne-python
- è®ºå›: https://mne.discourse.group

### Brainstorm3
- å®˜ç½‘: https://neuroimage.usc.edu/brainstorm
- GitHub: https://github.com/brainstorm-tools/brainstorm3
- è®ºå›: https://neuroimage.usc.edu/forums

### æ•™ç¨‹å¯¹æ¯”
- MNEæ•™ç¨‹: https://mne.tools/stable/auto_tutorials/index.html
- Brainstormæ•™ç¨‹: https://neuroimage.usc.edu/brainstorm/Tutorials
